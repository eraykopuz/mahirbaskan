document.addEventListener('DOMContentLoaded', () => {
    // ... (Mevcut kodlar aynı kalır) ...

    const aiButton = document.getElementById('ai-assistant-button');
    const aiContainer = document.getElementById('ai-assistant-container');
    const aiClose = document.getElementById('ai-close-button');
    const chatBox = document.getElementById('ai-chat-box');
    const userInput = document.getElementById('ai-user-input');
    const sendButton = document.getElementById('ai-send-button');
    // YENİ ELEMAN: Fullscreen butonu
    const aiFullscreen = document.getElementById('ai-fullscreen-button');

    // 1. Tıklama Olayları
    aiButton.addEventListener('click', () => {
        // ... (Bu kısım aynı kalır) ...
        if (aiContainer.style.display === 'none' || aiContainer.style.display === '') {
            aiContainer.style.display = 'flex';
            userInput.focus(); 
        } else {
            aiContainer.style.display = 'none';
        }
    });

    // Kapatma butonu: Direk 'display: none' ile kapatır.
    aiClose.addEventListener('click', () => {
        aiContainer.style.display = 'none';
        // KAPATIRKEN, EĞER FULL EKRANDAYSA FULL EKRANDAN ÇIKAR
        if (aiContainer.classList.contains('fullscreen-mode')) {
            aiContainer.classList.remove('fullscreen-mode');
        }
    });
    
    // YENİ: Full Ekran Buton İşlevi
    aiFullscreen.addEventListener('click', () => {
        // Class'ı toggle (aç/kapa) ederek Full Ekran modunu değiştirir.
        aiContainer.classList.toggle('fullscreen-mode');
        // İkonu da değiştirir: Tam ekran simgesi ↔️ küçültme simgesi
        if (aiContainer.classList.contains('fullscreen-mode')) {
            aiFullscreen.innerHTML = '&#x274C;'; // Çarpı (Kapat)
        } else {
            aiFullscreen.innerHTML = '&#x26F6;'; // Tam ekran simgesi
        }
    });

    // ... (Diğer fonksiyonlar ve olay dinleyicileri aynı kalır) ...
});
